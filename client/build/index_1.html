<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="cache-control" content="no-store">
    <meta http-equiv="cache" content="no-store">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="pragma" content="no-cache">
    <title>Pokemon H5</title>
    <link rel="icon" type="image/GIF" href="favicon_maumai.ico">
    <link rel="stylesheet" href="css/black.css">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="full-screen" content="yes">
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-orientation" content="portrait">
    <meta name="x5-fullscreen" content="true">
    <meta name="360-fullscreen" content="true">
    <meta property="og:image" content="http://pkc.zgsw168.cn/favicon_english.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no,minimal-ui, target-density=device-dpi">
    <style>
        body {
            margin: 0 auto;
            padding: 0;
            border: 0;
            background-image: url("images/ditu000.jpg");
        }
    </style>
    <script type="text/javascript" src="js/websdk.js"></script>
</head>
<body id="gameBody" style="padding:0; margin: 0;">
<script src="js/loading_FZjyeq.js"></script>

<script>
    (function () {
        // 是否启用SDK登陆策略
        window.IS_SDK_RELEASE = true;
        window.__channel = "test";

        //统计
        if (window.IS_SDK_RELEASE) {
            var url_login_jf = "https://pmlogin-eu.zeusgame.me:19443/webServer_pikachu/services/";//joyfun 程天游
            var url_login_esprit = "https://pmlogin-eu.zeusgame.me:19443/webServer_pikachu/services/";//esprit
            var url_login_jf_eu = "https://pmlogin-eu.zeusgame.me/webServer_pikachu/services/";//joyfuneu 欧服
            var url_login_cocosplay = "https://login-cocosplay.pkc.easygametime.com/webServer_pikachu/services/";// 触控
            var url_login_shareit = "https://login.shareitgames.com/webServer_pikachu/services/";// shareit 茄子快传

            var paramObj = {}
            var params = window.location.search.slice(1);
            if (params != "") {
                var paramsArr = params.split("&");
                for (var i in paramsArr) {
                    var args = paramsArr[i].split("=");
                    paramObj[args[0]] = args[1];
                }

                var sdkType = paramObj['sdkType']
                if (!paramObj['sdkType'] && window.__channel != 'test') {
                    paramObj['sdkType'] = window.__channel;
                    var myDate = new Date();
                    var timeStr = myDate.getTime();
                    paramObj.sdkType = window.__channel;
                    paramObj.td_channelid = window.__channel;
                    paramObj._t = timeStr;
                    sdkType = paramObj['sdkType'];
                }
                token = ''
                uid = ''

                if (sdkType) {
                    switch (sdkType) {
                        case 'joyfunGer':
                        case 'joyfun':
                            if (window.__channel == "joyfuneu"){
                                window.URL_HTTP_LOGIN = url_login_jf_eu;
                            }else{
                                window.URL_HTTP_LOGIN = url_login_jf;
                            }
                            token = paramObj.token || '';
                            break;
                        case "joyfunfra":
                            token = paramObj.token || '';
                            window.URL_HTTP_LOGIN = url_login_jf;

                            break;
                        case "ctyfrench":


                        case 'cty':
                            uid = paramObj.userId || '';
                            window.URL_HTTP_LOGIN = url_login_jf;
                            break;
                        case 'esprit':
                            uid = paramObj.game_user_id || '';
                            window.URL_HTTP_LOGIN = url_login_esprit;

                        case 'joyfunpkg':
                            uid = paramObj.userId || '';
                            token = paramObj.token || '';
                            window.URL_HTTP_LOGIN = url_login_jf;
                            break;
                        case "cxios":
                        case "cxandroid":
                        case "yueyouiospkg":
                            uid = paramObj.userId || '';
                            window.URL_HTTP_LOGIN = url_login_jf;
                            break;
                        case "yueyouwin10pkg":
                            uid = paramObj.userId || '';
                            window.URL_HTTP_LOGIN = url_login_jf;
                            break;
                        case "shareit":
                            uid = paramObj.userId || '';
                            window.URL_HTTP_LOGIN = url_login_shareit;
                            break;
                        case "cocosplay":
                            uid = paramObj.userId || '';
                            window.URL_HTTP_LOGIN = url_login_cocosplay;
                            break;
                        default:
                            uid = paramObj.uid || '';
                            token = paramObj.token || '';
                            console.log("sdkType:" + sdkType);
                    }
                    sdkType = sdkType || '0';
                    if (sdkType === "djs") {
                        sdkType = paramObj.channel;
                        if (sdkType === '4399') {
                            window.URL_HTTP_LOGIN = url_login_4399;
                        }
                        else {
                            window.URL_HTTP_LOGIN = url_login_group;
                        }
                    }
                }
            }
        }

        // 是否开启webp格式
        var isWebpExists = true;
        if (isWebpExists) {
            function testWebP(callback) {
                var webP = new Image();
                webP.src = 'data:image/webp;base64,UklGRjAAAABXRUJQVlA4ICQAAACwAgCdASoUAAEAPpE6l0eloyIhMAgAsBIJaQAAeyAA/vhNAAA=';
                webP.onload = webP.onerror = function () {
                    callback(webP.height === 1);
                };
            }

            function notify(supported) {
                console.log((supported) ? "webP supported!" : "webP not supported.");
                window.isWebpSupport = supported;
            }

            testWebP(notify);
        }

        var _body = document.getElementById("gameBody");
        var ua = window.navigator.userAgent.toLowerCase();
        var leftStr = ua.replace(/qqbrowser/ig, '');
        var ismqq = (leftStr.match(/qq/i) ? true : false);
        var isAndroid = ua.match(/android/i) || window.navigator.platform.match(/android/i) ? true : false;
        if (isAndroid && ismqq) {
            //QQ浏览器
            _body.innerHTML = '<div id="foo" style="height:100%; width:100%; display:block; position:absolute;margin: 0 auto;padding: 0;border: 0;">' +
                '<canvas id="gameCanvas" style="height:100%; width:100%; display:block; position:absolute;margin: 0 auto;padding: 0;border: 0;"></canvas>' +
                '</div>';
        } else {
            _body.innerHTML = '<canvas id="gameCanvas" style="height:100%; width:100%; display:block; position:absolute;margin: 0 auto;padding: 0;border: 0;"></canvas>';
        }
    })();
    onShareTimeline = function () {
        if (window.myShareCallback) {
            window.myShareCallback();
            window.myShareCallback = undefined;
        }
    };
    window.reportError = function (args) {
    };
    // 对于 try-catch 覆盖不到的地方，如果出现异常就只能通过 window.onerror 来捕获了。
    window.onerror = function (
        errorMessage,
        scriptURI,
        lineNumber,
        columnNumber,
        error
    ) {
        if (error) {
            window.reportError(error);
        } else {
            window.reportError({
                message: errorMessage,
                script: scriptURI,
                line: lineNumber,
                column: columnNumber
            });
        }
        ;
    };

</script>
<script>
    function timeoutToRemove() {
        changeTitle("");
        //setTimeout(function() { removeLoad(); }, 2000);
    }
    function makeedgeRender(){
        var ua = navigator.userAgent.toLowerCase();
        if (ua.indexOf('edge') > -1 && document.ccConfig){
            document.ccConfig.renderMode = 1
        }
    }

    function removeLoad() {
        var d = document.getElementById("h5-loading-page-lay");
        if (d) document.body.removeChild(d);
    }

    function onRefresh() {
        window.location.reload()
    }

    function onFileLoad(idx) {
        var textList = ['', '', '', '']
        var percentList = [10, 30, 50, 5]
        changeTitle('' + textList[idx], percentList[idx])
    }

    function changeTitle(title, v) {
        if (v !== undefined) {
            var d = document.getElementById("h5-loading-finish");
            var w = v / 100 * 237;
            d.style.width = w + "px";
            //d = document.getElementById("h5-loading-star");
            //d.style.marginLeft = (w - 10.35) + "px";
        }

        if (title) {
            var str = title;
            var sFont = document.getElementById("loadingFile");
            sFont.innerHTML = str;
        }
    }

    function showLoadPage() {
        var winWidth = 400;
        var winHeight = 800;
        if (window.innerWidth) {
            winWidth = window.innerWidth;
            winHeight = window.innerHeight;
        }
        else if (document.body) {
            winWidth = document.body.clientWidth;
            winHeight = document.body.clientHeight;
        }

        var refreshSize = {width: 140, height: 45}
        var bgSize = {width: 450, height: 800}
        var winSize = {width: winWidth, height: winHeight}
        var refreshPos = {x: 255, y: 16}
        var startPos = {x: 0, y: 0}
        var realBgSize = {width: 0, height: 0}
        var disY = 100
        if (winSize.height / winSize.width > bgSize.height / bgSize.width) {
            realBgSize = {width: winSize.width, height: winSize.width * bgSize.height / bgSize.width}
            startPos.y = (winSize.height - realBgSize.height) / 2
            disY = 50
        }
        else {
            realBgSize = {width: winSize.height * bgSize.width / bgSize.height, height: winSize.height}
            startPos.x = (winSize.width - realBgSize.width) / 2
        }
        var scaleFactor = realBgSize.width / bgSize.width
        var realRefreshSize = {width: refreshSize.width * scaleFactor, height: refreshSize.height * scaleFactor}
        var realStartPos = {x: refreshPos.x * scaleFactor + startPos.x, y: refreshPos.y * scaleFactor + startPos.y}
        var loadBoxY = startPos.y + realBgSize.height * 0.01
        var textY = loadBoxY + disY
        var nod = document.createElement("style");
        var s = "";
        var star = "";
        var pt = window.innerHeight < 470 ? 0 : 119;
        str = "*{margin: 0;}.h5-container-lay div{position:relative;}.h5-container-lay{position:absolute;}.h5c-row{width:100%}#h5-loading-page-lay{z-index:10000;width:100%;height:100%;position:absolute;top:0px;}#h5-rotate-tip-lay{z-index:10001;width:100%;height:100%;}#h5-loading-page{width:100%;height:100%;background-size:contain;background-position:center;}#h5-rotate-tip{width:100%;height:100%;background: #f3f3f3;}#h5-logo-box{padding-top:" + pt + "px}#h5-logo{height:177px;width:244px;margin:0 auto; }#h5-rotate-box{width:100%; height:100%}#h5-rotate{height:100%;width:100%;margin:0 auto; background-size:151px 151px;background-position:center center;}#h5-slogan-box{padding-top:26px}#h5-loading-box{bottom: " + loadBoxY + "px;position: absolute;}#h5-loading-text{bottom: " + textY + "px;position: absolute;}#h5-loading-text{color:#b8b8b8;font-size:16px;width:100%;text-align:center;font-family:微软雅黑}#h5-slogan{width:194px;height:38px;margin:0 auto;" + s + "background-size:cover;}#h5-loading{width:237px;height:4px;margin:73px auto 0;-webkit-border-radius:4.528125px;-moz-border-radius:4.528125px;border-radius:4.528125px;background:#343234;}#h5-loading-finish{margin:0;width:0;height:100%;background:#fbd067;-webkit-border-radius:4.528125px;-moz-border-radius:4.528125px;border-radius:4.528125px;}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@-moz-keyframes rotate{from{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(360deg)}}@-ms-keyframes rotate{from{-ms-transform:rotate(0deg)}to{-ms-transform:rotate(360deg)}}@-o-keyframes rotate{from{-o-transform:rotate(0deg)}to{-o-transform:rotate(360deg)}}#h5-loading-star{width:17px;height:17px;margin:-10.35px 0 0 -10.35px;" + star + "background-size:contain;background-repeat:no-repeatanimation: 1s linear 0s normal none infinite rotate;-webkit-animation:1s linear 0s normal none infinite rotate;}";
        nod.type = "text/css";
        if (nod.styleSheet) {         //ie下
            nod.styleSheet.cssText = str;
        } else {
            nod.innerHTML = str;       //或者写成 nod.appendChild(document.createTextNode(str))
        }
        document.getElementsByTagName("head")[0].appendChild(nod);

        var d = document.createElement("div");
        d.id = "h5-loading-page-lay";
        d.class = "h5-container-lay";
        d.style.display = "none";
        d.innerHTML = '<div id="h5-loading-page"><div id="h5-logo-box" class="h5c-row"><div id="h5-logo"></div></div><div id="h5-slogan-box" class="h5c-row"><div id="h5-slogan"></div></div><div id="h5-loading-box" class="h5c-row"><div id="h5-loading-text"><font color="#f69638" size="2"><span id="loadingFile"></span></font></div><div id="h5-loading"><div id="h5-loading-finish"></div></div></div><div id="h5-loading-refresh" style="left:' + realStartPos.x + 'px; bottom:' + realStartPos.y + 'px; position:absolute;"><a onclick=onRefresh();></div></div>'
        document.body.appendChild(d);

    }

    showLoadPage();
    changeTitle("");

</script>


<script src="js/resource_iem2um.js" cocos onload="onFileLoad(0)" onreadystatechange="onFileLoad(0)"></script>
<script src="js/game.min_VBnmQr.js" cocos onload="onFileLoad(1)" onreadystatechange="onFileLoad(1)"></script>
<script src="js/main_beYBji.js" cocos onload="onFileLoad(2)" onreadystatechange="onFileLoad(2)"></script>
<script src="js/makeTranslate_jeQj22.js" cocos onload="onFileLoad(3)" onreadystatechange="onFileLoad(3)"></script>

<script type="text/javascript">
    window.isShenHe = true;
    // 在移动端 可以看到log 信息
    window.IS_NEED_CONSOLE = false

    function getTranslateStr(id) {
        if (coffeeTranslate) {
            if (coffeeTranslate[id])
                return coffeeTranslate[id].text || ''
            else
                return ''
        }
    }

    function setGameState(state) {
        console.log('--setGameState:' + state);
        if (state == '0') {
            if (cc) {
                if (cc.game) {
                    cc.game.pause();
                }
            }
        } else {
            if (cc) {
                if (cc.game) {
                    cc.game.resume();
                }
            }
        }
        return "--state:" + state;
    }

    function refreshLogin() {
        bearcat.getBean('loaderScene').startGame()
    }

    function rcLogin(userId) {
        if (sdkManager && sdkManager.sdkType == 'cxios') {
            var str = JSON.stringify(userId)
            var data = JSON.parse(str)
            window.loginSuccess(data)
        } else if (sdkManager && sdkManager.sdkType == "yueyouiospkg") {
            if (window.platformApi) {
                window.platformApi.rcLogin(userId)
            }
        }
    }

    function rcPay(data) {
        if (sdkManager && sdkManager.sdkType == "yueyouiospkg") {
            if (window.platformApi) {
                window.platformApi.rcPay(data)

            }
        }
    }


    function loadScript(src, callback) {
        var script = document.createElement('script'),
            head = document.getElementsByTagName('head')[0];
        script.type = 'text/javascript';
        script.charset = 'UTF-8';
        script.src = src;
        if (script.addEventListener) {
            script.addEventListener('load', function () {
                callback();
            }, false);
        } else if (script.attachEvent) {
            script.attachEvent('onreadystatechange', function () {
                var target = window.event.srcElement;
                if (target.readyState == 'loaded') {
                    console.log(GS);
                    callback();
                }
            });
        }
        head.appendChild(script);
    }


    //移除充值sdk界面
    function removeChargeGrayLayer(status) {
        if (status == 1) {
            ignorForm = cc.director.getRunningScene().getChildByTag(cz.COMMON_FORM_TOP_UP)
            if (ignorForm) {
                ignorForm.removeFromParent()
                ignorForm = undefined
            }
        }
    }

    (function () {
        // GM系统版本号资源
window.version_GM = "";
        // 是否加载高清原图
        window.isOriginalPNG = store.get("easy.isOriginalPNG");

        function webSocketSupported() {
            var WebSocket = window.WebSocket || window.MozWebSocket;
            return typeof WebSocket === 'function' || typeof WebSocket === 'object';
        }

        function writeToScreen(message) {
            var pre = document.getElementById("cocosLoading");
            pre.innerHTML = message;
        }

        function getCookie(c_name) {
            if (document.cookie.length > 0) {
                var c_start = document.cookie.indexOf(c_name + "=");
                if (c_start != -1) {
                    c_start = c_start + c_name.length + 1;
                    var c_end = document.cookie.indexOf(";", c_start);
                    if (c_end == -1) c_end = document.cookie.length;
                    return unescape(document.cookie.substring(c_start, c_end));
                }
            }
            return "";
        }

        sendErrorStatistician = function (str, sdkManager) {
            if (!window.URL_PAGE_STATISTICS_OPEN)
                return;
            var obj, ref, ref1, ref2, url, xhr;
            obj = {};
            obj.user = sdkManager.token || "unknown";
            obj.channel = sdkManager.sdkType;
            obj.sysOS = (ref = cc.deviceInfo.sysOsInfo) != null ? ref : 'unknown system';
            obj.phoneModel = (ref1 = cc.deviceInfo.phoneName) != null ? ref1 : 'unknown device';
            obj.browser = (ref2 = cc.deviceInfo.browser) != null ? ref2 : 'unknown browser';
            obj.pageId = str;
            url = window.URL_PAGE_STATISTICS;
            console.log('Error统计obj = ', obj, "url = ", url);
            xhr = cc.loader.getXMLHttpRequest();
            xhr.open("POST", url, true);
            xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            return xhr.send(JSON.stringify(obj));
        };
        if (!webSocketSupported()) {
            sendErrorStatistician("not_support_webSocket");
            var error = window.index_tips || "The game temporarily does not support the current browser, it is better to try Chrome.";
            alert(error);
            writeToScreen('<span style="color: red; border: 3px solid #73AD21; padding: 10px; position: relative; left: -90px; top: -100px; font-size:16;">' + error + '</span> ');
            return;
        }

        function loadMd5Resource(originPath) {
            if (window.md5_resource && window.md5_resource[originPath])
                document.write('<sc' + 'ript src="' + window.md5_resource[originPath] + '"></scr' + 'ipt>');
            else
                document.write('<sc' + 'ript src="' + originPath + '"></scr' + 'ipt>');
        }

        beforehandManager = {};
        sdkManager = {};
        window.isCanLogin = true
        var paramObj = {};
        window.coffeeTranslate = {};

        var jsParamsObj = [];
        var loadJs = function (index) {
            var jsparams = jsParamsObj[index]
            if (jsparams) {
                var newScript = document.createElement('script');
                if (window.md5_resource && window.md5_resource[jsparams.linkpth]) {
                    newScript.src = window.md5_resource[jsparams.linkpth];
                }
                else {
                    newScript.src = jsparams.linkpth;
                }

                newScript.id = jsparams.id;
                newScript.type = 'text/javascript';
                newScript.cocos = "";
                newScript.className = "scriptcocos";
                document.body.appendChild(newScript);

                var _script = document.getElementById(jsparams.id);
                if (!/*@cc_on!@*/0) { //if not IE
                    //Firefox2、Firefox3、Safari3.1+、Opera9.6+ support js.onload
                    _script.onload = function () {
                        loadJs(index + 1);
                        if (jsparams.id == 'platformapiJS' && window.platformApi && sdkManager.sdkType == 'esprit') {
                            window.isCanLogin = window.platformApi.loginInit(paramObj)
                            loadJs(index + 1);
                        }
                    }
                } else {
                    //IE6、IE7 support js.onreadystatechange
                    _script.onreadystatechange = function () {
                        if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete") {
                            loadJs(index + 1);
                        }
                    }
                }
            }
            else {
                if (window.isCanLogin) {
                    if (window.IS_NEED_CONSOLE) {
                        try {
                            window.eruda.init()
                        } catch (e) {
                            console.log(e)
                        }
                    }
                    window.makeTranslate.init(function () {
                            makeedgeRender()
                            cc.game.run();
                            if (sdkType === undefined) {
                                timeoutToRemove();
                            }
                        }
                    )
                }
            }
        }
        console.log('window = ', window, "window.__channel = ", window.__channel);
        var params = window.location.search.slice(1);
        if (params != "") {
            var paramsArr = params.split("&");
            for (var i in paramsArr) {
                var args = paramsArr[i].split("=");
                paramObj[args[0]] = args[1];
            }
            var isBeforehandTest = paramObj['isBeforehandTest']
            if (isBeforehandTest === undefined) {
                beforehandManager = undefined;
            }
            else {
                beforehandManager.isBeforehand = isBeforehandTest
                beforehandManager.coreHost = paramObj.coreHost
                beforehandManager.corePort = paramObj.corePort
                beforehandManager.sslPort = paramObj.sslPort
                beforehandManager.serverId = paramObj.serverId
                beforehandManager.serverNum = paramObj.serverNum
                beforehandManager.serverStatus = paramObj.serverStatus
                beforehandManager.servername = paramObj.servername
                beforehandManager.sign = paramObj.sign
                beforehandManager.playerId = paramObj.playerId
                beforehandManager.easyGameId = paramObj.easyGameId
                beforehandManager.session_id = paramObj.session_id
                beforehandManager.newTag = paramObj.newTag
                beforehandManager.isNewPlayer = paramObj.isNewPlayer
                beforehandManager.ipAddress = paramObj.ipAddress
                beforehandManager.oldUrl = paramObj.oldUrl
            }
            if (paramObj.oldUrl) {
                var ourl = paramObj.oldUrl.replace(/\%3D/g, '=')
                ourl = ourl.replace(/\%26/g, '&')
                var ourlsearch = ourl
                var _idx = ourl.indexOf('?')
                ourlsearch = ourlsearch.substring(_idx + 1, ourlsearch.length)
                if (ourlsearch != '') {
                    paramsArr = ourlsearch.split("&");
                    for (var i in paramsArr) {
                        var args = paramsArr[i].split("=");
                        paramObj[args[0]] = args[1];
                    }
                }
            }

            var sdkType = paramObj['sdkType']
            if (!paramObj['sdkType'] && window.__channel != 'test') {
                if (window.__channel != 'joyfuneu'){
                    paramObj['sdkType'] = window.__channel;
                    var myDate = new Date();
                    var timeStr = myDate.getTime();
                    paramObj.sdkType = window.__channel;
                    paramObj.td_channelid = window.__channel;
                    paramObj._t = timeStr;
                    sdkType = paramObj['sdkType'];
                }
            }
            if (sdkType === undefined) {
                //testin 有参数传递适配
                sdkManager = undefined;
                if (paramObj['serverId']){
                    window.serverId_jy = paramObj['serverId']
                }
                loadJs(0);
            }
            else {
                sdkManager.sdkType = sdkType
                sdkManager.channelId = ''
                sdkManager.name = paramObj.name;
                sdkManager.isLoginAgain = paramObj.isLoginAgain;
                sdkManager.ext = decodeURIComponent(paramObj.ext || '');

                switch (sdkManager.sdkType) {
                    case 'joyfunGer':
                    case 'joyfun':
                        window.sameSdkType = ['joyfun', 'joyfunGer']
                        document.write('<lin' + 'k type="text/css" rel="stylesheet" href="https://mobilesource.zeusgame.me/css/index.css" />');
                        //测试地址
                        //document.write('<lin' + 'k type="text/css" rel="stylesheet" href="http://devmobilesource.joywar.com/res/css/index.css" />');

                        var params = {
                            linkpth: 'https://mobilesource.zeusgame.me/js/jquery-3.2.1.min.js?v=0',
                            id: 'joyfun_jquery'
                        };
                        jsParamsObj.push(params);

                        var params = {
                            linkpth: 'https://mobilesource.zeusgame.me/js/jfsdk.min.js',
                            id: 'joyfun_jfsdk'
                        };
                        jsParamsObj.push(params);

                        sdkManager.inviterId = paramObj.inviterId || '';
                        break;
                    case 'ctygermany':
                    case 'ctyfrench':
                        window.sameSdkType = ['ctyfrench', 'ctygermany']
                        if (sdkManager.sdkType == 'ctyfrench') {
                            var appkey = (window.IS_SDK_RELEASE ? 'T5hVvywpzZcXrAg5' : 'T5hVvywpzZcXrAg5')
                        } else if (sdkManager.sdkType == 'ctygermany') {
                            //TODO 对接
                            var appkey = (window.IS_SDK_RELEASE ? 'T5hVvywpzZcXrAg5' : 'T5hVvywpzZcXrAg5')
                        }
                        if (sdkManager.isLoginAgain != 'true') {
                            var loginData = {
                                userId: paramObj.userId,
                                appId: paramObj.appId,
                                m: paramObj.m,
                                inviteUid: paramObj.inviteUid
                            }
                            var keylist = Object.keys(loginData).sort();
                            var rawString = '';
                            for (var index in keylist) {
                                var key = keylist[index];
                                rawString += (key + '=' + loginData[key] + '&');
                            }
                            ;
                            rawString = rawString.substring(0, rawString.length - 1) + appkey;
                            var urlMd5Result = hex_md5(rawString).toLowerCase();
                            if (urlMd5Result != paramObj.sign) {
                                alert('Link signature error!', rawString);
                                return;
                            }
                        }
                        window.urlname = (window.IS_SDK_RELEASE ? 'https://www.instaplay.games' : 'https://h5ovs.instaplay.games')
                        var params = {
                            linkpth: window.urlname + '/js/sdk/jquery.min.js',
                            id: 'cty_jquery'
                        };
                        jsParamsObj.push(params);
                        var params = {
                            linkpth: window.urlname + '/js/sdk/md5.min.js',
                            id: 'cty_md5'
                        };
                        jsParamsObj.push(params);
                        var params = {
                            linkpth: window.urlname + '/js/sdk/instaplaySDK.js',
                            id: 'instaplaySDK'
                        };
                        jsParamsObj.push(params);

                        //document.write('<lin' + 'k type="text/css" rel="stylesheet" href="https://www.instaplay.games/css/addtohomescreen.css" />');
                        //var params = {
                        //    linkpth : "https://www.instaplay.games/js/homescreen/addtohomescreen.js", //发送桌面
                        //    id:'facebook-jsHomeSceen'
                        //};

                        sdkManager.sdkType_m = paramObj.m;//渠道ID
                        sdkManager.userId = paramObj.userId || '';
                        sdkManager.appId = paramObj.appId || '';
                        sdkManager.inviterId = paramObj.inviteUid || '';
                        sdkManager.areaId = paramObj.areaId || ''; //游戏区
                        sdkManager.appkey = appkey;
                        break;
                    case 'cty':
                        if (sdkManager.isLoginAgain != 'true') {
                            var rawString = 'appId=' + paramObj.appId + '&inviteUid=' + paramObj.inviteUid + '&m=' + paramObj.m + '&userId=' + paramObj.userId + 'eaxbIVULWXspl4Py';
                            var urlMd5Result = hex_md5(rawString).toLowerCase();
                            if (urlMd5Result != paramObj.sign) {
                                alert('Link signature error!');
                                return;
                            }
                        }
                        var params = {
                            linkpth: 'https://connect.facebook.com/en_US/messenger.Extensions.js',
                            id: 'cty_jquery'
                        };
                        jsParamsObj.push(params);
                        var params = {
                            linkpth: "https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10", //打点
                            id: 'facebook-jssdk'
                        };
                        jsParamsObj.push(params);
                        document.write('<lin' + 'k type="text/css" rel="stylesheet" href="https://www.instaplay.games/css/addtohomescreen.css" />');
                        var params = {
                            linkpth: "https://www.instaplay.games/js/homescreen/addtohomescreen.js", //发送桌面
                            id: 'facebook-jsHomeSceen'
                        };

                        jsParamsObj.push(params);
                        sdkManager.sdkType_m = paramObj.m;
                        sdkManager.userId = paramObj.userId || '';
                        sdkManager.appId = paramObj.appId || '';
                        sdkManager.inviterId = paramObj.inviteUid || '';
                        sdkManager.fromHomeScreen = paramObj.aths == 1; //android的chrome
                        break;
                    case 'ctypkg':
                        console.log('--ctypkg  uid,');
                        sdkManager.channel = paramObj.sdkType;
                        sdkManager.sdkType = paramObj.channel;
                        sdkManager.appId = paramObj.appId;
                        sdkManager.appKey = paramObj.appKey;
                        sdkManager.paySecrt = paramObj.paySecrt;
                        sdkManager.userId = paramObj.userId;
                        sdkManager.token = paramObj.token;
                        sdkManager.userName = paramObj.userName;
                        break;
                    case 'cxandroid': //橙新
                        console.log("cxandroid index_release;")
                        sdkManager.channel = paramObj.sdkType;
                        sdkManager.sdkType = sdkManager.channel;
                        sdkManager.isNewPkg = paramObj.isPkgNew;
                        var params = {
                            linkpth: 'static/sdk/' + (sdkManager.upperChannel || sdkManager.sdkType) + '/H5GameCallBack.js',
                            id: 'H5GameCallBack'
                        };
                        jsParamsObj.push(params);
                        break;
                    case 'cxios':
                        console.log("cxios index_release;")
                        sdkManager.channel = paramObj.sdkType;
                        sdkManager.sdkType = sdkManager.channel;

                        break;
                    //思捷
                    case 'esprit':
                        var params = {
                            linkpth: 'https://core.espritgames.ru/static/js/sdk/xdm.js ',
                            id: 'xdm'
                        };
                        jsParamsObj.push(params);
                        window.isCanLogin = false

                        break;

                    case 'aosa':
                        console.log('--aosa处理  ,');
                        //强梗逻辑
//                        if (! paramObj.pkgType || !(paramObj.pkgType == 'beiyong4' || paramObj.pkgType == 'beiyong3')){
//                            window.location.href = 'https://play.google.com/store/apps/details?id=com.ezgame.ezbkm.oas.anback '
//                            return
//                        }
                        if (paramObj.uid) {
                            console.log('--aosa  uid,', paramObj.uid);
                            document.write('<sc' + 'ript src="//cdn.djsh5.com/js/gank.sdk.https.js"></scr' + 'ipt>');
                            sdkManager.openid = '';
                            sdkManager.token = paramObj.uid;
                            sdkManager.isAsync = !sdkManager.token;
                            sdkManager.channel = paramObj.channel;
                            sdkManager.sdkType = sdkManager.channel;
                            sdkManager.channelId = paramObj.channel;
                            sdkManager.name = paramObj.name;
                            sdkManager.upperChannel = 'aosa';
                            sdkManager.isFirst = true;
                        } else {
                            console.log('--aosa处理  channel,', paramObj.channel);
                            sdkManager.upperChannel = 'aosa';
                            sdkManager.channel = paramObj.channel;
                            sdkManager.sdkType = sdkManager.channel;
                            sdkManager.isAsync = true;
                            document.write('<sc' + 'ript src="//cdn.djsh5.com/js/gank.sdk.https.js"></scr' + 'ipt>');
                        }

                        break;
                    case 'shareit':
                        console.log('-- shareit处理');
                        sdkManager.userId = paramObj.uid;
                        sdkManager.token = paramObj.uid;
                        sdkManager.isAsync = true;
                        sdkManager.name = paramObj.name;
                        break;
                    case 'cocosplay':
                        console.log('-- cocosplay处理');
                        var params = {
                            linkpth: 'https://all.res-gamebox.cocos.com/res/GameSDK.min.js',
                            id: 'cocosplay'
                        };
                        jsParamsObj.push(params);
                        break;
                    //越南版sdk接入
                    case 'vng360':
                        sdkManager.account_vng360 = paramObj.account || '';
                        sdkManager.time = paramObj.time;
                        sdkManager.sig = paramObj.sig;
                        sdkManager.srvid = paramObj.srvid;
                        break;

                    case "gs":
                        console.log('--越南版sdk处理  ,');
                        var gsDiv = document.createElement("div");
                        gsDiv.id = "gsLogin";
                        gsDiv.style = "position: fixed;top: 12%;left: 50%;transform: translate(-50%,0)";
                        document.body.appendChild(gsDiv);

                        var params = {
                            linkpth: 'https://h5.vcdn.vn/jssdk/sdk/gs.js',
                            id: 'gs'
                        };
                        jsParamsObj.push(params);
                        break;
                    case 'joyfunfra':
                        //法语sdk
                        document.write('<lin' + 'k type="text/css" rel="stylesheet" href="https://mobilesource.zeusgame.me/css/index.css" />');
                        //测试地址
                        //document.write('<lin' + 'k type="text/css" rel="stylesheet" href="http://devmobilesource.joywar.com/res/css/index.css" />');

                        var params = {
                            linkpth: 'https://mobilesource.zeusgame.me/js/jquery-3.2.1.min.js?v=0',
                            id: 'joyfun_jquery'
                        };
                        jsParamsObj.push(params);

                        var params = {
                            linkpth: 'https://mobilesource.zeusgame.me/js/jfsdk.min.js',
                            id: 'joyfun_jfsdk'
                        };
                        jsParamsObj.push(params);

                        sdkManager.inviterId = paramObj.inviterId || '';
                        break;

                    case 'joyfunpkg':
                        //joyfunxb

                        sdkManager.userId = paramObj.userId || '';
                        sdkManager.appId = "" + paramObj.appId || '';
                        sdkManager.inviterId = paramObj.inviterId || '';
                        sdkManager.token = paramObj.token || '';
                        sdkManager.inviterPlatformId = paramObj.inviterPlatformId || '';

                        break;
                    case "yueyouiospkg":
                        sdkManager.userId = paramObj.userId || '';
                        sdkManager.appId = "" + paramObj.appId || '';
                        sdkManager.inviterId = paramObj.inviterId || '';
                        sdkManager.token = paramObj.token || '';

                        break;
                    case "yueyouwin10pkg":
                        sdkManager.userId = paramObj.userId || '';
                        sdkManager.appId = "" + paramObj.appId || '';
                        sdkManager.inviterId = paramObj.inviterId || '';
                        sdkManager.token = paramObj.token || '';

                        break;

                    default:
                        console.log("sdkType:" + sdkManager.sdkType);
                }
                if (sdkManager.isSa) {
                    if (sdkManager.sdkType == 'egret')
                        loadMd5Resource('static/sdk/' + sdkManager.sdkType + '/saApi.js');
                }
                if (window.IS_NEED_CONSOLE) {
                    var params = {
                        linkpth: 'https://cdn.jsdelivr.net/npm/eruda',
                        id: 'eruda'
                    };
                    jsParamsObj.push(params);
                }

                var platformapiPth = sdkManager.upperChannel || sdkManager.sdkType
                if (window.sameSdkType) {
                    platformapiPth = window.sameSdkType.indexOf(platformapiPth) >= 0 ? window.sameSdkType[0] : platformapiPth
                }
                var params = {
                    linkpth: 'static/sdk/' + platformapiPth + '/platformApi.js',
                    id: 'platformapiJS'
                };
                jsParamsObj.push(params);

                // loadMd5Resource('static/sdk/' + (sdkManager.upperChannel || sdkManager.sdkType) + '/platformApi.js');
                sdkManager.paramObj = paramObj;
                sdkManager.account = {};
                //部分渠道需要前端传回调地址
                //if (window.IS_SDK_RELEASE)
                //    sdkManager.payCallback = 'http://101.201.101.118:9090/ws/proxy/services/pay/' + sdkManager.sdkType
                //else
                //    sdkManager.payCallback = 'http://test.easygametime.com:8081/ws/proxy/services/pay/' + sdkManager.sdkType
                //document.write('<sc' + 'ript type=text/javascript' + ">"+ "cc.game.run();" + "</scr" + "ipt>")

                loadJs(0);
                if (window.IS_SDK_RELEASE)
                    sendErrorStatistician("game_start", sdkManager);
            }

        }
        else {
            sdkManager = undefined;
            loadJs(0);
        }

        if (!store.enabled) {
            console.error('Local storage is not supported by your browser. Please disable "Private Mode", or upgrade to a modern browser.')
        }


    })();

</script>

<div id="payClosebtn" class="white_content" style="z-index: 1003;top: 7%;right: 10%;width: 100px;height: 50px;overflow: hidden;">
    <script>
        function tryCloseIframe()
        {
            var d = document.getElementById("payIframe")
            if(d){
                d.parentNode.removeChild(d)
            }
             document.body.getElementsByClassName("black_overlay")[0].style.display = "none"
            document.getElementById("payClosebtn").style.display = "none"
        }
    </script>

    <div class="dark-matter" style="width: 300px;height: 150px; background: 0">
      <label class="btn" style="position: relative;height: 2rem;">
            <input style=" position: absolute; right: 1.5rem;background: #22a0ea;" type="button" class="button" value="X" onclick="tryCloseIframe()">
        </label>
    </div>
</div>

<div id="ctyShareLight" class="white_content">
    <script>
        function hide(classid) {
            light = document.getElementById('ctyShareLight')
            fade = document.getElementById('fade')
            light.style.display = 'none'
            fade.style.display = 'none'
        }
    </script>

    <div class="dark-matter" style="width: 330px;height: 200px;background: rgba(60,60,50, 0.8)">
        <span class="close"><a href="javascript:void(0)" onclick="hide('ctyShareLight')" style="color: #ff0000"> X关闭</a></span>
        <h1 style="margin-top: 30px;text-align: center">
            <span style="font-size: 14px">Copy this link, paste and send to your friends:</span>
            <br>
            <b class="share-link" style="-webkit-user-select:initial;z-index:2;width: 280px;font-size: 12px;background-color: transparent;color: #32aae4"></b>

        </h1>
    </div>

</div>


<div id="fade" class="black_overlay"></div>
<div id="hengping" class="hengpingmubu" style="display:none;">
    <img class="hengpingImage" src="images/hengpingqiehuan.png">
</div>
</body>
</html>